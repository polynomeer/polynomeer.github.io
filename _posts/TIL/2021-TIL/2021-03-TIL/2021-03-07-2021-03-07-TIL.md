---
title: 2021-03-07-TIL
date: 2021-03-07
categories: [TIL, 2021-TIL]
tags: [TIL]
---

# 2021-03-07-TIL

## [CODE REVIEW] ë¯¸ì…˜1

- Herokuì— ì²˜ìŒ ì ‘ì†í•˜ë©´ ê½¤ ê¸´ ë¡œë”©ì‹œê°„ì´ ë°œìƒí•©ë‹ˆë‹¤. ì´ë¥¼ ì–´ë–»ê²Œ í•´ê²°í•´ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?

  - ë¡œì»¬ í™˜ê²½ì—ì„œëŠ” ì €ë ‡ê²Œê¹Œì§€ ëŠë¦¬ì§€ ì•Šì€ë°, ì²˜ìŒ ì ‘ì†í•  ë•Œë§Œ ëŠë¦¬ë„¤ìš”. Herokuê°€ ë¯¸êµ­ ì„œë²„ì¸ ê²ƒë„ ì›ì¸ì¸ ê²ƒ ê°™ì€ë°, í•´ê²° ë°©ë²•ì„ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤.. ë‹¤ë¥¸ ë¶„ë“¤ ì¤‘ì— ë¹ ë¥¸ ì‚¬ëŒë„ ìˆê³  ì•„ë‹Œ ì‚¬ëŒë„ ìˆëŠ”ë° ì¢€ ë” í•™ìŠµí•´ë³´ê² ìŠµë‹ˆë‹¤!
  - ì—¬ëŸ¬ê°€ì§€ ì¡°ì‚¬ë¥¼ í•´ë³´ë‹ˆ ì„œë²„ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¼ì • ì‹œê°„ë™ì•ˆ ì‚¬ìš©ì´ ì•ˆë˜ë©´ í—¤ë¡œì¿  ì„œë²„ì˜ ë©”ëª¨ë¦¬ì—ì„œ ìë™ìœ¼ë¡œ ì–¸ë¡œë“œ ë˜ëŠ”ê²ƒ ê°™ìŠµë‹ˆë‹¤. íŠ¸ë˜í”½ì´ ë§ì„ìˆ˜ë¡ ì„œë²„ì˜ ë©”ëª¨ë¦¬ì— ê³„ì† ìƒì£¼í•˜ê²Œ ë˜ëŠ”ë“¯ í•©ë‹ˆë‹¤. ì¦‰, ìœ ë… ë¹ ë¥¸ ì„œë²„ì˜ ê²½ìš° ì¸ê¸°ê°€ ë§ì€ ì„œë²„ì¼ìˆ˜ë„ ìˆê² ë„¤ìš”!
  - ê°™ì€ ìŠ¤í„°ë””ì›ì¸ batê°€ http://kaffeine.herokuapp.com ì—¬ê¸°ì— ë“±ë¡ì„ í•˜ë©´ 30ë¶„ ë§ˆë‹¤ pingì„ ë‚ ë ¤ì„œ ì„œë²„ë¥¼ ë°ì›Œì£¼ëŠ”(?) ë°©ë²•ì„ ì•Œë ¤ì£¼ì–´ì„œ ë“±ë¡í•´ë³´ì•˜ë”ë‹ˆ, ë‹¤ì†Œ ë¹¨ë¼ì§„ ê²ƒ ê°™ìŠµë‹ˆë‹¤!
  - https://stackoverflow.com/questions/2606190/why-are-my-basic-heroku-apps-taking-two-seconds-to-load
  - https://www.quora.com/Scalability/Scalability-How-does-Heroku-work-2
  - https://devcenter.heroku.com/articles/how-heroku-works
- https://august-qna.herokuapp.com/user/profile ì—¬ê¸°ë¡œ ì ‘ì†í•˜ë©´ 404ê°€ ë°œìƒí•˜ë„¤ìš”. ì´ê±´ ì–´ë–»ê²Œ WhiteLabelErrorPageê°€ ëœ¨ëŠ”ê²ƒì„ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œìš”?

  - ì´ ë¶€ë¶„ì€ ì–´ë– í•œ í•´ê²°ì‚¬í•­ì„ ë§ì”€í•˜ì§€ëŠ”ì§€ ì´í•´ê°€ ì˜ ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ íšŒì›ê°€ì… í›„ ì‚¬ìš©ì ì´ë¦„ì„ í´ë¦­í•˜ë©´, `users/{userId}`ë¡œ ì´ë™í•˜ì—¬ í”„ë¡œí•„ì€ ì¶œë ¥ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  `users/profile`ë¡œ ì ‘ì†í•˜ë©´ í˜„ì¬ëŠ” ì´ë¦„ì´ ë¹„ì–´ìˆëŠ” ìƒíƒœë¡œ í”„ë¡œí•„ í˜ì´ì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë¹„ì •ìƒì ì¸ urlì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ í•´ì£¼ì–´ì•¼ í•œë‹¤ëŠ” ë§ì”€ì´ì‹ ê°€ìš”?
  - https://goddaehee.tistory.com/214
  - https://zetcode.com/springboot/whitelabelerror/
  - https://techblogstation.com/spring-boot/whitelabel-error-page-spring-boot/
- íšŒì›ì •ë³´ ìˆ˜ì •ê¸°ëŠ¥ì€ ìƒì‹ì ìœ¼ë¡œ ìƒê°í–ˆì„ ë•Œ, ë¹„ë°€ë²ˆí˜¸ê°€ ì±„ì›Œì ¸ìˆìœ¼ë©´ ì•ˆë˜ê² ì£ ?

  - ì‚¬ì‹¤, ê·¸ ìƒê°ì€ í–ˆì§€ë§Œ ë¹„ë°€ë²ˆí˜¸ê°€ ë§ëŠ”ì§€ë¥¼ ê²€ì¦í•˜ëŠ” ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ë‹¤ìŒ ë¯¸ì…˜ì—ì„œ ìˆ˜í–‰í•˜ì§€ ì•Šì„ê¹Œ í•´ì„œ ì¼ë‹¨ ë‘ì—ˆëŠ”ë°, ìˆ˜ì •í•´ì•¼ê² ë„¤ìš”!! ğŸ˜…
  - ìš°ì„ ì€ updateForm.htmlì—ì„œ íŒ¨ìŠ¤ì›Œë“œ ë¶€ë¶„ì„ ì œê±°í–ˆìŠµë‹ˆë‹¤. Userì˜ updateì—ì„œë„ íŒ¨ìŠ¤ì›Œë“œëŠ” ë³€ê²½í•˜ì§€ ëª» í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. íŒ¨ìŠ¤ì›Œë“œ í™•ì¸ í›„ ë³€ê²½ì™„ë£Œë¥¼ í•˜ëŠ” ë“±ì˜ ë¡œì§ì€ ë¯¸ì…˜ì„ ì¢€ ë” ìˆ˜í–‰í•˜ê³  í•´ë³´ê² ìŠµë‹ˆë‹¤.
- Controllerì˜ ì±…ì„ì´ ë„ˆë¬´ ê³¼ë„í•˜ê²Œ ë§ìŠµë‹ˆë‹¤. ì ì ˆí•˜ê²Œ ë¶„ë¦¬í•´ì£¼ì„¸ìš”.
- UserController::findUserByIdê°™ì€ ë¡œì§ì€ Serviceì— í¬í•¨ë˜ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì€ ì•Œê² ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ê³„ì† ì‹œë„í•´ë³´ì•˜ì§€ë§Œ ì˜ì¡´ì£¼ì…ê³¼ ê°™ì€ ê°œë…ì´ ì•„ì§ ë§ì´ ë¶€ì¡±í•´ì„œ ì´ë²ˆ ë¯¸ì…˜ì—ì„œëŠ” ì´ ë¶€ë¶„ì„ ê·¸ëƒ¥ ë„˜ì–´ê°€ë ¤ê³  í•©ë‹ˆë‹¤.. ;(
- url ì„¤ì •ê³¼ ë©”ì„œë“œ ë„¤ì´ë°ì— ëŒ€í•´ì„œë„ ì¢€ ë” ê³ ë¯¼í•´ë´ì£¼ì„¸ìš”!
  - ê°™ì€ urlì„ ê°€ì§€ë”ë¼ë„ ë©”ì„œë“œ(GET, POST)ë¡œ ì‹ë³„ì´ ê°€ëŠ¥í•´ì„œ updateë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!
- `System.out.println()`ì€ ì´ ë¯¸ì…˜ ì´í›„ë¡œ ë´‰ì¸í•´ë‘ì‹œë©´ ë©ë‹ˆë‹¤. Loggerë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.

  - Loggerì˜ í•„ìš”ì„±ì„ ì•„ì§ ëŠë¼ì§€ ëª»í•´ì„œ ë¬´ì‘ì • ì“°ê¸°ê°€ ì–´ë ¤ì› ëŠ”ë°, ì´ì°¸ì— ì‚¬ìš©ëª©ì ì— ëŒ€í•˜ì—¬ ê³µë¶€í•´ë³´ì•˜ìŠµë‹ˆë‹¤.
  - ë¡œê·¸ë¥¼ ë³´ë‹¤ í’ë¶€í•˜ê²Œ ë‹¤ë£¨ê¸° ìœ„í•´ì„œ ì•ìœ¼ë¡œ `Logger`ì‚¬ìš©ì„ ìŠµê´€í™”í•´ì•¼ê² ìŠµë‹ˆë‹¤!
  - https://www.baeldung.com/java-system-out-println-vs-loggers
- ì—¬ëŸ¬ ê³³ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìì›ì— ëŒ€í•´ì„œ ê³ ë¯¼í•´ë´ì£¼ì„¸ìš”.
  - ì´ ë¶€ë¶„ì€ ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ synchronizedë˜ì§€ì•Šì€ Collectionsì— ëŒ€í•´ì„œ ë§ì”€í•˜ì‹œëŠ” ê±´ê°€ìš”? ì§€ê¸ˆì€ ì´í•´ê°€ ë¶€ì¡±í•´ì„œ ì¢€ ë³´ë¥˜í•˜ì˜€ìŠµë‹ˆë‹¤ ;(
- ì‹œê°„ì„ String íƒ€ì…ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ê²ƒì€ ì–´ë–¤ ì†í•´ê°€ ìˆì„ê¹Œìš”?
  - ìŠ¤í”„ë§ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ String íŒŒë¼ë¯¸í„°ë¥¼ Dateë‚˜ ë‹¤ë¥¸ time ê°ì²´ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ê³  í•©ë‹ˆë‹¤. ë”°ë¼ì„œ ConversionFailedExceptionì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - LocalDateTimeì„ ì €ì¥í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!
  - https://www.baeldung.com/spring-date-parameters

```java
registry.addViewController("/users/form").setViewName("user/form");
registry.addViewController("/users/login").setViewName("user/login");
registry.addViewController("/questions/form").setViewName("qna/form");
```

- ì´ê²ƒì´ ì–´ë–¤ ì„¤ì •ì¸ì§€ ê³µë¶€í•´ë³´ì…¨ë‚˜ìš”? í•œ ë²ˆ ê³µë¶€í•´ë´ì£¼ì„¸ìš”

  - `ViewControllerRegistry`

  ìƒíƒœ ì½”ë“œ and/or viewë¡œ ë¯¸ë¦¬ ì„¤ì •ëœ ê°„ë‹¨í•œ ìë™í™” ì»¨íŠ¸ë¡¤ëŸ¬ ë“±ë¡ì„ ì§€ì›í•©ë‹ˆë‹¤.

  - `setOrder(int order)`

  Spring MVCì—ì„œ ì„¤ì •ëœ ë‹¤ë¥¸ í•¸ë“¤ëŸ¬ ë§µí•‘ê³¼ ê´€ë ¨ëœ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§µí•‘ í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” `HandlerMapping`ì— ì‚¬ìš©í•  ìˆœì„œë¥¼ ì§€ì •í•©ë‹ˆë‹¤ .

  - `addViewController(String urlPathOrPattern)`

  URL ê²½ë¡œ ë˜ëŠ” íŒ¨í„´ì„ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì— ë§¤í•‘í•˜ì—¬ êµ¬ì„±ëœ ìƒíƒœ ì½”ë“œ ë° ë·°ë¡œ ì‘ë‹µì„ ë Œë”ë§í•©ë‹ˆë‹¤.

  https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/ViewControllerRegistry.html

- [codesquad-members-2021/java-chess#9 (comment)](https://github.com/codesquad-members-2021/java-chess/pull/9#discussion_r572027344) ì—¬ê¸¸ ì°¸ê³ í•´ì„œ ì„¤ì • ìˆ˜ì • ê¼­ í•´ì£¼ì„¸ìš”~
  - https://blog.coderifleman.com/2015/04/04/text-files-end-with-a-newline/
  - https://johngrib.github.io/wiki/intellij/

```java
@RequestMapping("/questions")
public class QuestionController {
    private final DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss");
    private final List<Question> questions = new ArrayList<>();
```

- ì´ë¦„ì€ Controllerì¸ë°, questionsë¥¼ ì—¬ê¸°ì„œ ê´€ë¦¬í•˜ëŠ”êµ°ìš”? ì´ë ‡ê²Œ ê°œë°œí•˜ë©´ Controllerì˜ ì±…ì„ì´ ë§ì•„ì§€ê²Œ ë©ë‹ˆë‹¤. í•œ ë²ˆ ìƒê°í•´ë´ì£¼ì„¸ìš”. ê·¸ë¦¬ê³ , ì—¬ëŸ¬ ìš”ì²­ì´ ë™ì‹œì— ë“¤ì–´ì˜¬ ë•Œ ArrayListëŠ” ê³¼ì—° ì•ˆì „í• ê¹Œìš”?
  - https://www.baeldung.com/java-synchronized-collections
  - https://codeahoy.com/java/array-list/
  - `service`ì— ëŒ€í•´ì„œ ê³µë¶€í•œ ë‹¤ìŒ, `service` íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ë³„ë„ì˜ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ë¡œ ê´€ë¦¬í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!
  - ArrayList ë° Collectionsì˜ ê¸°ë³¸ ìë£Œêµ¬ì¡°ëŠ” ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ thread-safeí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ synchronizedList()ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•˜ë‹¤ëŠ” ê²ƒì„ ê³µë¶€í–ˆìŠµë‹ˆë‹¤.

```java
    public String index(Model model) {
```

- `index`ë³´ë‹¤ ì¢‹ì€ ì´ë¦„ ê³ ë¯¼í•´ë´ì£¼ì„¸ìš” ã…‹ã…‹
  - https://dzone.com/articles/14-tips-for-writing-spring-mvc-controller
  - https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch16s10.html
  - ë§ì€ ìë£Œë¥¼ ì°¾ì•„ë³´ì•˜ìœ¼ë‚˜ ê¸°ê» ì°¾ì€ ê²ƒì´ homeì´ë„¤ìš”. ë„¤ì´ë°ì€ ë„ˆë¬´ ì–´ë ¤ìš´ ê²ƒ ê°™ìŠµë‹ˆë‹¤. ;(

```java
String formatDateTime = now.format(formatter);

question.setId(questions.size() + 1);
question.setCreatedDate(formatDateTime);
```

- í .. ì™œ í¬ë§·ëœ ì‹œê°„ì„ ë„£ì–´ì£¼ì‹œëŠ”ì§€ ê¶ê¸ˆí•˜ë„¤ìš”!
  - ì €ì¥í•  ë•Œ Stringìœ¼ë¡œ ì €ì¥í•˜ì§€ ì•Šê²Œ ë˜ë©´ í¬ë§·ëœ ì‹œê°„ì„ ì €ì¥í•  í•„ìš”ë„ ì—†ê² êµ°ìš”. ëª¨ë¸ì— ë„˜ê²¨ì¤„ ë•Œë§Œ í¬ë§·ì„ ì§€ì •í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```java
private String createdDate;
```

- ê³¼ì—° ì‹œê°„ì„ ì´ë ‡ê²Œ ì €ì¥í•˜ëŠ”ê²Œ ë§ì„ê¹Œìš”?
  - ì²˜ìŒì— Dateë¡œ ë‘ì—ˆë‹¤ê°€ htmlí˜ì´ì§€ë¡œ ë¶€í„°ì˜ ì „ë‹¬ì´ ì‰½ì§€ì•Šì•„ì„œ ì´ë ‡ê²Œ ì²˜ë¦¬í–ˆì—ˆëŠ”ë°, LocalDateTimeìœ¼ë¡œ ì €ì¥í•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.
  - https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html

```java
public String list(@PathVariable("id") long id, Model model) {
```

- ë©”ì„œë“œëª…ì€ listì¸ë°, list ì•„ë‹Œê²ƒ ê°™ë„¤ìš”.
  - showë¡œ ë³€ê²½í•˜ê³  indexë¥¼ listë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

```java
  question.setId(questions.size() + 1);
```

- ì´ ë¶€ë¶„ë„ ì¡°ì‹¬í•´ì•¼í•  ê²ƒ ê°™ì•„ìš”. ì—¬ëŸ¬ê³³ì—ì„œ ì ‘ê·¼í•  ë•Œë¥¼ í•­ìƒ ìƒê°í•´ë´…ì‹œë‹¤.

- ì´ì œë¶€í„´ `System.out.println()`ì€ ë´‰ì¸í•˜ì‹œê³ , Loggerë¥¼ ì‚¬ìš©í•´ì£¼ì„¸ìš”.
  - ë„¤, Loggerë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤!

https://colorlib.com/wp/free-error-page-templates/

---

### Template Engine

- https://www.javaguides.net/2019/01/spring-boot-with-template-engines.html

### Spring Boot project structure

- https://medium.com/the-resonant-web/spring-boot-2-0-project-structure-and-best-practices-part-2-7137bdcba7d3
- https://stackoverflow.com/questions/40902280/what-is-the-recommended-project-structure-for-spring-boot-rest-projects
- https://www.javaguides.net/2019/01/standard-project-structure-for-spring-boot-projects.html
- https://frontbackend.com/spring-boot/what-code-structure-use-for-spring-boot-applications